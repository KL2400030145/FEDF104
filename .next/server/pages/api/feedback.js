"use strict";(()=>{var e={};e.id=240,e.ids=[240],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},483:(e,t,n)=>{let r,o;n.r(t),n.d(t,{config:()=>A,default:()=>m,routeModule:()=>p});var a={};n.r(a),n.d(a,{default:()=>P});var i=n(802),s=n(153),d=n(249);let u=require("mongoose");var l=n.n(u);let c=process.env.MONGODB_URI,f=global.mongoose;if(f||(f=global.mongoose={conn:null,promise:null}),c){r=async function(){return f.conn||(f.promise||(f.promise=l().connect(c,{dbName:"fedf_feedback"}).then(e=>e)),f.conn=await f.promise),f.conn};let e=new(l()).Schema({text:String,createdAt:{type:Date,default:Date.now}},{collection:"feedbacks"});o=l().models.Feedback||l().model("Feedback",e)}else{let e=[];r=async function(){return Promise.resolve(null)},o={async create(t){let n={_id:(e.length+1).toString(),text:t.text,createdAt:t.createdAt||new Date};return e.push(n),n},find:()=>({sort({createdAt:t}={createdAt:-1}){let n=[...e];return n.sort((e,n)=>-1===t?n.createdAt-e.createdAt:e.createdAt-n.createdAt),Promise.resolve(n)}})}}async function P(e,t){if(await r(),"POST"===e.method){let{text:n}=e.body;if(!n?.trim())return t.status(400).json({error:"Text is required"});let r=await o.create({text:n});return t.status(201).json(r)}if("GET"===e.method){let e=await o.find().sort({createdAt:-1});return t.status(200).json(e)}return t.status(405).json({error:"Method Not Allowed"})}let m=(0,d.l)(a,"default"),A=(0,d.l)(a,"config"),p=new i.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/feedback",pathname:"/api/feedback",bundlePath:"",filename:""},userland:a})},153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},802:(e,t,n)=>{e.exports=n(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var n=t(t.s=483);module.exports=n})();